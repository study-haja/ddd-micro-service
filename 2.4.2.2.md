### MSA 기술 변화 흐름

초기 MSA는 넷플릭스 OSS나 스프링클라우드를 이용해 각각의 서비스를 별도로 만들어서 해결하거나 유연성처럼 수평 확장이 필요한 요소는 AWS IaaS 서비스를 이용해 해결했다. 즉 문제마다 상이한 기술로 해결할 수 밖에 없었다.

그러나 쿠버네티스나 오픈시프트 같은 제품들로 여러 문제의 해결책을 한꺼번에 제공하는 솔루션이 등장했다. 특히 쿠버네티스가 소프트웨어 차원, 즉 컨테이너의 레플리카 기술로 탐색, 호출 문제와 함께 통합해서 지원하면서 쿠버네티스가 각광받고 있다.

최근에는 이스티오 기술이 함께 사용되고 있다.



### 서비스 메시 패턴

초창기 MSA 의 문제점은 API 게이트웨이, 서비스 레지스트리, 컨피그 서비스와 같이 운영 관리를 위한 여러 개의 기반 서비스를 별도로 각각 만들어야 한다는 번거러움과 더불어 업무 처리 마이크로서비스에 스프링 클라우드 서비스를 사용하기 위한 라이브러리를 비즈니스 로직과 함께 탑재해야 한다는 점이었다.

따라서 최근에는 비지니스 로직과 분리해서 네트워크 인프라 계층에서 수행하게 하는 서비스 메시 패턴이 선호되고 있다.

서비스 메시는 인프라 레이어로서 서비스 간의 통신을 처리하며 앞에서 언급한 여러 문제 해결 패턴을 포괄한다.

이스티오가 대표적인 예인데 애플리케이션이 배포되는 컨테이너에 완전히 격리되어 별도의 컨테이너로 배포되는 사이드카 패턴을 적용해서 서비스 디스커버리, 라우팅, 로드 밸런싱, 로깅, 모니터링, 보안, 트레이싱 등의 기능을 제공한다.

서비스 메시를 적용한 시스템의 경우 마이크로서비스마다 함께 배포되는 사이드카 프락시에 운영 관리를 위한 기능이 별도로 담겨있기 때문에 마이크로서비스는 순수 비지니스 로직에 집중할 수 있다.

이스티오는 주요기능은 다음과 같다.

1. 트래픽 관리 : 동적 라우팅, 로드 밸런싱
2. 보안 : 보안 통신 채널, 인증, 인가, 암호화
3. 관측성 : 메트릭, 분산 트레이싱, 로깅

스프링 클라우드 및 넷플릭스 OSS와 차별점은 다음과 같다.

1. 애플리케이션 코드의 변경이 거의 없다. (스프링 클라우드, OSS는 비즈니스 로직과 함께 코드로 표현해야 함)
2. 폴리글랏 애플리케이션도 지원한다. (스프링 클라우드, OSS는 자바 언어만 지원 함)
3. 이스티오는 쿠버네티스와 완벼하게 통합된 환경을 지원한다.